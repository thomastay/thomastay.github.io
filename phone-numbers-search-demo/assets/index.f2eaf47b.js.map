{"version":3,"file":"index.f2eaf47b.js","sources":["../../src/SearchBar.jsx","../../src/Select.jsx","../../src/App.jsx","../../src/genRandPhoneNum.js","../../src/index.jsx"],"sourcesContent":["import styles from \"./SearchBar.module.css\";\n\nfunction SearchBar(props) {\n  return (\n    <>\n      <label htmlFor=\"header-search\">\n        <span class={styles[\"visually-hidden\"]}></span>\n      </label>\n      <input\n        onInput={(e) => {\n          props.setQuery(e.target.value);\n        }}\n        type=\"tel\"\n        id=\"header-search\"\n        placeholder=\"Enter a phone number\"\n        name=\"enterphonenumber\"\n      />\n    </>\n  );\n}\n\nexport default SearchBar;\n","import styles from \"./Select.module.css\";\n\nfunction Select(props) {\n  return (\n    <>\n      <h2>Size of dictionary</h2>\n      <div class={styles[\"select\"]}>\n        {props.choices.map((choice) => (\n          <>\n            <input\n              type=\"radio\"\n              name={props.name}\n              value={choice}\n              class={styles[\"radio-btn\"]}\n              checked={choice == props.defaultChoice}\n              onChange={(e) => props.onChange(Number(e.target.value))}\n            />\n            <label>{choice.toLocaleString()}</label>\n          </>\n        ))}\n      </div>\n    </>\n  );\n}\n\nexport default Select;\n","import styles from \"./App.module.css\";\nimport SearchBar from \"./SearchBar\";\nimport { createSignal, createEffect, For } from \"solid-js\";\nimport { genPhoneNums } from \"./genRandPhoneNum\";\nimport Select from \"./Select\";\n\nconst MAX_ENTRIES = 100;\nconst takeArr = (arr, max) => arr.slice(0, max);\n\n// 10 mil, too big, 538ms. 16ms timing achieved with 250k numbers, which means only 128k phone numbers would be alright.\nconst DEFAULT_NUM_PHONE_NUMS = 250_000;\nconst phoneNumbersRangeChoices = [\n  10_000, 100_000, 250_000, 1000_000, 10_000_000,\n];\nphoneNumbersRangeChoices.sort((a, b) => a - b);\nconst maxPhoneNumChoice = last(phoneNumbersRangeChoices);\nconst phoneNumbersTotal = genPhoneNums(maxPhoneNumChoice);\n\nfunction App() {\n  const [entries, setEntries] = createSignal([]);\n  const [query, setQuery] = createSignal(\"\");\n  const [numPhoneNums, setNumPhoneNums] = createSignal(DEFAULT_NUM_PHONE_NUMS);\n  const [phoneNumbers, setPhoneNumbers] = createSignal([]);\n\n  // these need to be in separate createEffect if not it makes an infinite loop.\n  createEffect(() => {\n    setPhoneNumbers(phoneNumbersTotal.slice(0, numPhoneNums()));\n  });\n\n  createEffect(() => {\n    setEntries(() => {\n      let q = query();\n      if (q) {\n        q = q.trim();\n        const entries = phoneNumbers().filter((entry) => entry.includes(q));\n        return entries;\n      }\n      return [];\n    });\n  });\n  // hack\n  document.getElementById(\"loadingScreen\").style = \"display:none\";\n\n  return (\n    <div class={styles.App}>\n      <SearchBar setQuery={setQuery} />\n      <Select\n        choices={phoneNumbersRangeChoices}\n        defaultChoice={DEFAULT_NUM_PHONE_NUMS.toString()}\n        onChange={setNumPhoneNums}\n        name=\"phoneNumbersRangeChoices\"\n      />\n      <div class={styles.container}>\n        <p>\n          Found {entries().length} matches. Listing {MAX_ENTRIES} or less:\n        </p>\n        <ol>\n          <For each={takeArr(entries(), MAX_ENTRIES)}>\n            {(val) => <li>{val}</li>}\n          </For>\n        </ol>\n      </div>\n    </div>\n  );\n}\n\nfunction last(arr) {\n  return arr[arr.length - 1];\n}\n\nexport default App;\n","const FIFTEEN_NINES = 1e15 - 1;\nconst TEN_FIFTEEN = 1e14;\n\nfunction genRandPhoneNumber() {\n  const result = TEN_FIFTEEN + Math.floor(Math.random() * FIFTEEN_NINES);\n  return `+${result}`;\n}\n\nexport function genPhoneNums(n) {\n  const result = [];\n  for (let i = 0; i < n; i++) {\n    result.push(genRandPhoneNumber());\n  }\n  return result;\n}\n","import { render } from \"solid-js/web\";\n\nimport \"./index.css\";\nimport App from \"./App\";\n\nrender(App, document.getElementById(\"root\"));\n"],"names":["_tmpl$","_$template","_tmpl$2","props","_el$","cloneNode","_el$2","firstChild","className","styles","_el$3","$$input","setQuery","e","target","value","_$delegateEvents","_tmpl$3","_tmpl$4","choices","map","addEventListener","onChange","Number","choice","_v$","name","_v$2","_v$3","defaultChoice","_p$","_$setAttribute","checked","_el$4","toLocaleString","phoneNumbersRangeChoices","sort","a","b","arr","phoneNumbersTotal","n","result","i","push","Math","floor","random","genPhoneNums","length","render","entries","setEntries","createSignal","query","numPhoneNums","setNumPhoneNums","phoneNumbers","setPhoneNumbers","slice","q","trim","filter","entry","includes","getElementById","style","_el$6","nextSibling","_el$7","_$createComponent","SearchBar","Select","toString","For","max","takeArr","children","_el$8","val","document"],"mappings":"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"}